# Consistent Cooperation

객체는 협력을 위해 존재한다 <br>
협력은 객체가 존재하는 이유와 문맥을 제공한다 <br>
객체지향은 변경이 용이하고 재사용성이 높은 특징을 가지고 있다 <br>

재사용성은 공짜로 얻어지는 것이 아니다 객체지향을 올바르게 사용할 때 얻을 수 있다 <br>
이를 위해 일관성 있는 협력을 구성하는 것이 중요하다

## 설계에 일관성 부여하기

### 일관성 있는 협력을 위한 지침

- 변하는 개념을 변하지 않는 개념으로부터 분리하라
- 변하는 개념을 캡슐화하라

조건 로직 vs 객체 탐색 <br>
절차지향에서 할인 조건과 할인 정책의 종류를 판단할 때, 일반적으로 조건 로직이 들어간다 <br>
그러나 두 개의 책임이 하나의 메서드 안에 공존하는 것이고, 객체지향에서는 이를 해결하기 위해 다형성을 제공한다 <br>
추상화에 의존할 수 있다면 컴파일 시점에는 인터페이스에 의존하고 런타임에 객체로 대체된다 <br>
다중 if 문을 사용하지 않고도 다양한 객체와 협력할 수 있고 메시지를 수신한 객체는 자신의 메서드를 통해 처리한다

다중 if 문은 유지보수에 해롭고 조건 판단과 선택이라는 두 가지 책임을 가지고 있기 때문에 피해야 한다 <br>
조건 판단할 때에 객체의 내부 상태에 접근하기 때문에 캡슐화가 깨지기도 한다

## 캡슐화 다시 살펴보기

캡슐화란 단순히 데이터 은닉 이상의 것으로 모든 변하는 개념을 감추는 것 <br>
인스턴스 변수를 private 으로 설정하고 메서드를 public 으로 설정하는 것 이상을 의미한다

재사용 가능한 협력 패턴이란 변하는 부분을 모두 감추고, 추상화 간의 협력 <br>
변하는 부분을 서로 대체하더라도 큰 그림에서는 바뀌지 않음

