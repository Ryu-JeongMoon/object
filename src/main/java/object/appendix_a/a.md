# Design By Contract
인터페이스만으로는 객체의 행동에 관한 다양한 관점을 전달하기 어렵다 <br>
이러한 이유로 인해 계약에 의한 설계가 필요하다
<hr>

## Collaboration and Contract
인터페이스는 객체가 수신할 수 있는 메세지는 정의할 수 있으나
객체 사이의 소통 방식을 정확히 정의하기 어렵다

- 협력에 참여하는 객체들은 계약으로부터 각자의 이익을 기대하고 이를 얻기 위해 의무를 이행한다
- 협력에 참여하는 객체의 이익과 의무는 인터페이스 상에 문서화된다

계약에 의한 설계를 구성하는 세가지 요소
1. 사전조건 - 메서드가 호출되기 위해 만족되어야 하는 조건, 메서드의 요구사항을 명시
2. 사후조건 - 메서드 실행 후 클라이언트에게 보장해야 하는 조건, 서버의 의무
3. 불변식 - 항상 참이라고 보장되는 서버의 조건

일반적으로 사전조건에서는 메서드의 인자로 전달된 데이터의 정합성을 판단하기 위해 사용한다, `@Valid` 같은 놈

## DBC, Subtyping
슈퍼타입에서 정의된 사전 조건을 서브타입에서 강화한다면 기존의 계약을 깨는 행위 <br>
리스코프치환 원칙의 관점에서 보자면 행위호환성이 지켜지지 않는 것<br>
고객이 계약한 것을 지키지 않은 것!

슈퍼타입에서 정의된 사후 조건을 서브타입에서 약화한다면 기존의 계약을 깨는 행위 <br>
이것도 LSP 위반<br>
계약한 것보다 이익이 적다!

